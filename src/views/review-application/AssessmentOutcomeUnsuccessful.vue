<template>
  <div class="tw-text-center">
    <h2 class="main-heading md:tw-mb-7.5">
      {{ getAssessmentTitle }}
    </h2>
    <h2 class="tw-my-5">Almost there...</h2>

    <div
      class="tw-grid tw-items-center tw-justify-items-center tw-mb-6 lg:tw-mb-9"
    >
      <div>
        <p
          v-for="(para, index) in getParagraphs"
          :key="index"
          class="md:tw-text-center tw-mx-2 tw-text-sm tw-max-w-md tw-text-left"
        >
          {{ para }}
        </p>
      </div>
    </div>
    <div
      class="tw-mt-9 tw-grid md:tw-grid-cols-2 tw-gap-4 md:tw-gap-4.5 md:tw-mb-4"
    >
      <CustomButton
        title=""
        class="tw-w-full"
        :isDisabled="false"
        className="tw-bg-primary-engage md:tw-h-30 tw-text-qb-black"
      >
        <div
          class="tw-text-qb-black tw-flex md:tw-flex-col tw-justify-center tw-items-center"
        >
          <svg version="1.1" class="tw-w-5 tw-h-5 md:tw-h-9 md:tw-mb-2 tw-mr-2">
            <g transform="matrix(1 0 0 1 -107 -425 )">
              <path
                d="M 16.523381600000004 20.900033999999994  L 16.368000000000002 21  L 15.48596 20.988281200000003  L 15.232060000000002 20.9406252  C 15.032060000000001 20.9023432  14.820340000000002 20.8648432  14.618000000000002 20.8148432  C 13.460180000000001 20.5265632  12.304000000000002 19.9945232  10.978200000000001 19.1445232  C 9.35242 18.1007632  7.750000000000002 16.766323199999995  5.936000000000002 14.944523199999999  C 4.5094400000000014 13.553121999999998  3.222800000000001 12.025741999999997  2.0938000000000017 10.384341999999998  C 1.1359800000000015 8.958561999999997  0.5617600000000017 7.784341999999999  0.22974000000000175 6.552341999999999  C 0.16177200000000178 6.304681999999999  0.11567800000000175 6.058581999999999  0.07192800000000175 5.820301999999998  C 0.051616000000001744 5.717957999999999  0.03364600000000175 5.620301999999998  0.01411600000000175 5.5164019999999985  L 5.3600000001749464E-05 5.389839999999999  L 5.3600000001749464E-05 4.678119999999998  L 0.047709600000001746 4.562495999999999  C 0.4000496000000018 3.7101559999999987  1.0000496000000019 3.1078159999999992  1.5883296000000018 2.5656159999999986  C 2.016449600000002 2.1656159999999987  2.468009600000002 1.8015559999999988  2.892229600000002 1.4632759999999985  C 3.4070696000000016 1.0421771999999985  4.093009600000002 0.8937371999999986  4.735989600000003 1.0640571999999986  C 5.148489600000002 1.1617131999999986  5.507089600000002 1.4163971999999985  5.735989600000003 1.7742171999999985  L 6.284429600000003 2.599997199999999  C 6.856309600000003 3.471877199999999  7.446149600000002 4.371877199999998  8.046149600000003 5.242197199999999  C 8.511769600000003 5.885157199999998  8.577389600000002 6.735157199999999  8.215681600000002 7.442197199999999  C 8.109431600000002 7.676577199999998  7.987561600000003 7.892197199999997  7.869581600000003 8.1023572  L 7.719581600000002 8.372677199999998  C 7.607863600000002 8.572677199999998  7.497701600000002 8.772677199999999  7.381301600000002 8.9726772  L 7.757081600000003 9.422677199999999  C 8.095361600000002 9.8226772  8.446921600000001 10.252357199999999  8.807081600000002 10.640637199999999  L 8.807862800000002 10.639855999999998  C 9.796142800000004 11.725795999999995  10.871062800000006 12.728855999999999  12.021862800000003 13.639855999999998  C 12.446082800000003 13.393755999999998  12.889822800000003 13.146095999999998  13.375762800000004 12.882036  C 13.862482800000002 12.586716  14.4421628 12.485935999999997  14.999982800000002 12.599995999999997  C 15.197638800000002 12.645307999999998  15.385922800000001 12.724995999999997  15.5562228 12.835935999999997  C 16.7945028 13.650775999999997  18.0304228 14.468755999999997  19.262422800000003 15.289935999999997  C 19.906182800000003 15.719615999999997  20.164762800000005 16.596176  19.894462800000003 17.424335999999997  C 19.832743600000004 17.621992  19.741337600000005 17.808715999999997  19.621801600000005 17.978235999999995  C 18.980401600000004 18.887615999999994  18.214761600000003 19.702455999999994  17.347601600000004 20.400035999999997  C 17.159319600000003 20.542223999999994  16.958541600000004 20.667995999999995  16.747601600000007 20.775815999999995  C 16.671819600000003 20.818003999999995  16.597601600000004 20.857847999999997  16.523381600000004 20.900033999999994  Z M 15.464204000000002 19.678214800000003  L 15.670340000000003 19.71796  L 16.026580000000003 19.71796  L 16.134392000000002 19.660148  C 16.282048000000003 19.585148  16.424232000000003 19.497647999999998  16.557832 19.399988  C 17.331272000000002 18.771088000000002  18.013292000000003 18.037488  18.584432000000003 17.220388  C 18.622714000000002 17.157888  18.6524 17.090700000000002  18.671932 17.020388  C 18.768808000000003 16.793048  18.72037 16.530548  18.547714000000003 16.353988  C 17.317254000000002 15.533668  16.084514000000002 14.718048000000003  14.850114000000003 13.906388000000002  C 14.807926000000005 13.879044000000002  14.761052000000001 13.859512000000004  14.711832000000001 13.847794000000002  C 14.457932000000003 13.804826000000004  14.197772 13.858731600000002  13.982152000000003 14.000138000000002  C 13.443872000000002 14.289978000000005  12.961832 14.561858  12.507932000000002 14.829818000000001  C 12.164972000000002 15.054038  11.715752000000002 15.027474000000002  11.400112000000004 14.765755999999998  C 10.132152000000003 13.783715999999998  8.951712000000004 12.693156  7.871912000000004 11.506356000000002  C 7.485972000000004 11.092296  7.124252000000002 10.656355999999999  6.774252000000003 10.234475999999999  C 6.588314000000003 10.015716  6.400032000000004 9.800096  6.2242520000000034 9.584476  C 5.959412000000002 9.292295999999999  5.926592000000002 8.857916  6.1461280000000045 8.529796  C 6.303940000000003 8.269635999999998  6.450028000000003 8.005576  6.596128000000004 7.743856000000001  L 6.752378000000005 7.465736  C 6.862534000000003 7.265736  6.9640980000000035 7.089955999999999  7.046138000000004 6.907915999999999  C 7.2195760000000035 6.612595999999999  7.196138000000005 6.241516  6.988326000000004 5.970416000000001  C 6.388326000000005 5.088375999999999  5.788326000000004 4.180576  5.210206000000004 3.3048159999999998  L 4.675826000000003 2.4844959999999996  C 4.622702000000004 2.3962139999999996  4.5344200000000034 2.3352779999999997  4.434426000000004 2.315746  C 4.178186000000004 2.238402  3.900826000000004 2.2938699999999996  3.693806000000004 2.4641839999999995  C 3.2938060000000036 2.7899639999999994  2.855526000000004 3.139963999999999  2.4578660000000037 3.5079439999999997  C 1.9859860000000034 3.9423239999999993  1.5422460000000036 4.379823999999999  1.2820860000000036 4.936064  L 1.2820860000000036 5.324344  C 1.3000548000000036 5.410282  1.3164620000000036 5.49622  1.3320860000000037 5.582164000000001  C 1.3742740000000035 5.806384000000001  1.4141180000000038 6.016544000000001  1.4680240000000035 6.216544000000002  C 1.7602040000000032 7.298584000000002  2.2820840000000033 8.362544  3.1578640000000036 9.666544  C 4.241464000000003 11.2399828  5.475864000000004 12.7039628  6.8438640000000035 14.0383628  C 8.600104000000004 15.800082799999998  10.125864000000005 17.070362799999998  11.672064000000004 18.064162800000002  C 12.872064000000004 18.8383828  13.911864000000003 19.316502800000002  14.928264000000004 19.5704028  C 15.104046000000004 19.6141528  15.284504000000002 19.6461848  15.464204000000002 19.678214800000003  Z "
                fill-rule="nonzero"
                stroke="none"
                transform="matrix(1 0 0 1 107 425 )"
              />
            </g>
          </svg>
          Request a Callback
        </div>
      </CustomButton>

      <CustomButton
        title=""
        class="tw-w-full"
        :isDisabled="false"
        className="tw-bg-secondary-600 md:tw-h-30 tw-text-qb-black"
      >
        <div
          class="tw-text-qb-black tw-flex md:tw-flex-col tw-justify-center tw-items-center"
        >
          <img
            :src="ChatIcon"
            class="tw-w-6 md:tw-w-9 md:tw-mb-2 tw-mr-2"
            alt=""
          />
          Speak to use via Web Chat
        </div>
      </CustomButton>
    </div>
    <teleport to="#the-footer">
      <TheFooter
        :is-disabled="false"
        :navigate-to="true"
        @handle-next-click="handleNextClick"
      />
    </teleport>
  </div>
</template>

<script setup lang="ts">
import { computed } from "vue";
import { useRoute, useRouter, type RouteRecordName } from "vue-router";
import ChatIcon from "/assets/conversationIcon.svg";

import CustomButton from "../../components/CustomButton.vue";
import TheFooter from "../../components/global/TheFooter.vue";
import useGetPersonalDetails from "@/utils/composables/API/personal-details/useGetPersonalDetails";
const route = useRoute();
const router = useRouter();
const getAssessmentTitle = computed(() => route.meta.assessmentTitle);
const { data } = useGetPersonalDetails({ isFirstPerson: 1 });
const getParagraphs = computed(() => ({
  p1: `We have a few more questions for you before we approve your credit card application. We will call ${
    data?.value?.length ? data.value[0].firstName : "Person1 FirstName"
  }'s mobile number within the next 2 hours.`,
  p2: " Please contact us via web chat or request a call back if you have a question.",
}));

const nextNavigation = computed(() => ({
  name: route.meta.nextNavigation as RouteRecordName,
}));
const handleNextClick = () => router.push(nextNavigation.value);
</script>

<style lang="css" scoped>
.main-heading {
  @apply tw-font-normal tw-text-center !tw-text-xl tw-mt-6 tw-leading-normal lg:tw-mt-0;
}
</style>
